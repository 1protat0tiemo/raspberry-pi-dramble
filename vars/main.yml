---
# Docker configuration.
docker_install_from_convenience_script: True
docker_users:
  - pi

# Kubernetes configuration.
kubernetes_allow_pods_on_master: False
kubernetes_pod_network_cidr: '10.244.0.0/16'
kubernetes_version: '1.13'
kubernetes_packages:
  - name: kubelet=1.13.1-00
    state: present
  - name: kubectl=1.13.1-00
    state: present
  - name: kubeadm=1.13.1-00
    state: present
  - name: kubernetes-cni
    state: present

k8s_manage_namespace: false
k8s_no_log: false
k8s_manifests_base_dir: k8s-manifests/
k8s_manifests:
  - nfs/rbac
  - nfs/deployment
  - kube-system/ingress/rbac
  - kube-system/ingress/deployment
  - dir: docker-registry
    namespace: registry
  - dir: drupal/mysql
    namespace: drupal
  - dir: drupal/drupal
    namespace: drupal

# Python dependencies.
pip_install_packages:
  - openshift

# Swap configuration.
swap_file_state: absent
swap_file_path: /dev/mapper/packer--debian--9--amd64--vg-swap_1

# See: https://github.com/docker-library/mysql/issues/318
mysql_container_image: hypriot/rpi-mysql:5.5

# Image to use for the metrics-server deployment.
metrics_server_image: gcr.io/google_containers/metrics-server-arm:v0.3.1

# Image to use for nfs-client deployment.
nfs_client_image: quay.io/external_storage/nfs-client-provisioner-arm:latest

# NFS configuration.
nfs_share_dir: /srv/nfs
nfs_exports: { "/srv/nfs *(rw,sync,no_root_squash,no_subtree_check)" }
# nfs_mount_dir: /mnt/nfs # defined in global vars file.
nfs_extra_dirs:
  - k8s
